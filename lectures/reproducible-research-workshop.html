<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<title>Reproducible Research Workshop</title>
<meta  http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta  name="generator" content="Org-mode" />
<meta  name="author" content="Dylan Schwilk" />
<link rel="stylesheet" type="text/css" href="../styles/schwilk-org.css" />
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2013 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
<script type="text/javascript" src="http://orgmode.org/mathjax/MathJax.js"></script>
<script type="text/javascript">
<!--/*--><![CDATA[/*><!--*/
    MathJax.Hub.Config({
        // Only one of the two following lines, depending on user settings
        // First allows browser-native MathML display, second forces HTML/CSS
        //  config: ["MMLorHTML.js"], jax: ["input/TeX"],
            jax: ["input/TeX", "output/HTML-CSS"],
        extensions: ["tex2jax.js","TeX/AMSmath.js","TeX/AMSsymbols.js",
                     "TeX/noUndefined.js"],
        tex2jax: {
            inlineMath: [ ["\\(","\\)"] ],
            displayMath: [ ['$$','$$'], ["\\[","\\]"], ["\\begin{displaymath}","\\end{displaymath}"] ],
            skipTags: ["script","noscript","style","textarea","pre","code"],
            ignoreClass: "tex2jax_ignore",
            processEscapes: false,
            processEnvironments: true,
            preview: "TeX"
        },
        showProcessingMessages: true,
        displayAlign: "center",
        displayIndent: "2em",

        "HTML-CSS": {
             scale: 100,
             availableFonts: ["STIX","TeX"],
             preferredFont: "TeX",
             webFont: "TeX",
             imageFont: "TeX",
             showMathMenu: true,
        },
        MMLorHTML: {
             prefer: {
                 MSIE:    "MML",
                 Firefox: "MML",
                 Opera:   "HTML",
                 other:   "HTML"
             }
        }
    });
/*]]>*///-->
</script>
</head>
<body>
<div id="content">
<h1 class="title">Reproducible Research Workshop</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#sec-1">1. Reproducible research</a>
<ul>
<li><a href="#sec-1-1">1.1. Introduction</a></li>
<li><a href="#sec-1-2">1.2. Getting started</a></li>
<li><a href="#sec-1-3">1.3. The shell</a></li>
<li><a href="#sec-1-4">1.4. R in RStudio</a></li>
<li><a href="#sec-1-5">1.5. Quick review of R</a></li>
</ul>
</li>
<li><a href="#sec-2">2. Plain text and literate programming</a>
<ul>
<li><a href="#sec-2-1">2.1. Why plain text?</a></li>
<li><a href="#sec-2-2">2.2. Markup languages</a></li>
<li><a href="#sec-2-3">2.3. Literate programming</a></li>
</ul>
</li>
<li><a href="#sec-3">3. Version Control</a>
<ul>
<li><a href="#sec-3-1">3.1. What is version control?</a></li>
<li><a href="#sec-3-2">3.2. git</a></li>
<li><a href="#sec-3-3">3.3. Working with branches</a></li>
<li><a href="#sec-3-4">3.4. Working with remotes</a></li>
<li><a href="#sec-3-5">3.5. Advanced uses</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="outline-container-sec-1" class="outline-2">
<h2 id="sec-1"><span class="section-number-2">1</span> Reproducible research</h2>
<div class="outline-text-2" id="text-1">
</div>
<div id="outline-container-sec-1-1" class="outline-3">
<h3 id="sec-1-1"><span class="section-number-3">1.1</span> Introduction</h3>
<div class="outline-text-3" id="text-1-1">
</div><ul class="org-ul"><li><a id="sec-1-1-1" name="sec-1-1-1"></a>Three parts to today's workshop<br  /><ul class="org-ul"><li><a id="sec-1-1-1-1" name="sec-1-1-1-1"></a>Introduction to reproducible research<br  /><div class="outline-text-5" id="text-1-1-1-1">
<ul class="org-ul">
<li>Automate tasks!
</li>
<li>Introduction to the shell
</li>
<li>R review
</li>
</ul>
</div>
</li>

<li><a id="sec-1-1-1-2" name="sec-1-1-1-2"></a>Plain text and literate programming<br  /><div class="outline-text-5" id="text-1-1-1-2">
<ul class="org-ul">
<li>Keep your code, results, figures and interpretation all together
</li>
</ul>
</div>
</li>

<li><a id="sec-1-1-1-3" name="sec-1-1-1-3"></a>Version control<br  /><div class="outline-text-5" id="text-1-1-1-3">
<ul class="org-ul">
<li>Keep track of it all
</li>
<li>Collaborate
</li>
<li>Reuse code
</li>
</ul>
</div>
</li></ul>
</li>

<li><a id="sec-1-1-2" name="sec-1-1-2"></a>Reproducible research<br  /><div class="outline-text-4" id="text-1-1-2">
<ul class="org-ul">
<li>The original data (and original computer code) can be analyzed by an independent investigator to obtain the same results of the original study.
</li>
<li>My own goal: all analyses are scripted: tables, figures, parameter values in the manuscript. Nothing is done "by hand".
</li>
</ul>
</div>
</li>
<li><a id="sec-1-1-3" name="sec-1-1-3"></a>Why make research reproducible?<br  /><div class="outline-text-4" id="text-1-1-3">
<ul class="org-ul">
<li>For your future self who is much less intelligent than your present genius self
</li>
<li>For your collaborators and for others to build upon
</li>
<li>Easily change documents when assumptions or data change
</li>
<li>Preserve context on why analyses were performed in certain way
</li>
</ul>
</div>
</li>
<li><a id="sec-1-1-4" name="sec-1-1-4"></a>Examples<br  /><div class="outline-text-4" id="text-1-1-4">
<ul class="org-ul">
<li>My experience with the DOI/USDA Fire Fire Surrogate study
</li>
<li>My current microclimate modeling project
</li>
</ul>
</div>
</li>
<li><a id="sec-1-1-5" name="sec-1-1-5"></a>Automate repetitive tasks<br  /><ul class="org-ul"><li><a id="sec-1-1-5-1" name="sec-1-1-5-1"></a>It's why we invented computers<br  /><div class="outline-text-5" id="text-1-1-5-1">
<ul class="org-ul">
<li>saves time
</li>
<li>avoids errors
</li>
<li>records workflow
</li>
<li>motivates command line = scripted work
</li>
</ul>
</div>
</li></ul>
</li>
<li><a id="sec-1-1-6" name="sec-1-1-6"></a>Automation<br  /><div class="outline-text-4" id="text-1-1-6">

<div class="figure">
<p><img src="images/xkcd-automation.png" alt="xkcd-automation.png" /> 
</p>
</div>
</div>
</li>
<li><a id="sec-1-1-7" name="sec-1-1-7"></a>What do we need?<br  /><ul class="org-ul"><li><a id="sec-1-1-7-1" name="sec-1-1-7-1"></a>Information<br  /><div class="outline-text-5" id="text-1-1-7-1">
<ul class="org-ul">
<li>Data
</li>
<li>Code (plain text instructions for the computer).
</li>
<li>Written scientific communication (manuscripts, presentations, blogs)
</li>
</ul>
</div>
</li>
<li><a id="sec-1-1-7-2" name="sec-1-1-7-2"></a>Tools<br  /><div class="outline-text-5" id="text-1-1-7-2">
<ol class="org-ol">
<li>a version control system to keep track of it all
</li>
<li>an interpreter for a computer language (eg R). I also recommend learning how to use "the shell"
</li>
<li>a good text editor which will allow not only editing but interact nicely with tools 1 and 2, above. I use Emacs. I will introduce you to RStudio.
</li>
</ol>
</div>
</li></ul>
</li></ul>
</div>
<div id="outline-container-sec-1-2" class="outline-3">
<h3 id="sec-1-2"><span class="section-number-3">1.2</span> Getting started</h3>
<div class="outline-text-3" id="text-1-2">
</div><ul class="org-ul"><li><a id="sec-1-2-1" name="sec-1-2-1"></a>Open the etherpad in your web browser<br  /><div class="outline-text-4" id="text-1-2-1">
<p>
<a href="https://etherpad.mozilla.org/2015-05-13-rr-workshop">https://etherpad.mozilla.org/2015-05-13-rr-workshop</a>
</p>
</div>
</li>

<li><a id="sec-1-2-2" name="sec-1-2-2"></a>Clone the workshop repository<br  /><ul class="org-ul"><li><a id="sec-1-2-2-1" name="sec-1-2-2-1"></a>If you are on a 405 machine<br  /><div class="outline-text-5" id="text-1-2-2-1">
<ul class="org-ul">
<li>double click the install github icon to install the GitHub application
</li>
</ul>
</div>
</li>
<li><a id="sec-1-2-2-2" name="sec-1-2-2-2"></a>clone the workshop repo<br  /><div class="outline-text-5" id="text-1-2-2-2">
<p>
Open a terminal and type
</p>
<div class="org-src-container">

<pre class="src src-sh"><span class="org-builtin">cd</span> ~
git clone https://github.com/dschwilk/rr-workshop.git
</pre>
</div>
</div>
</li>
<li><a id="sec-1-2-2-3" name="sec-1-2-2-3"></a>OR, via GUI:<br  /><div class="outline-text-5" id="text-1-2-2-3">
<ul class="org-ul">
<li>sign into GitHub
</li>
<li>Select "clone repository" and search for "dschwilk/rr-workshop"
</li>
</ul>
</div>
</li></ul>
</li></ul>
</div>
<div id="outline-container-sec-1-3" class="outline-3">
<h3 id="sec-1-3"><span class="section-number-3">1.3</span> The shell</h3>
<div class="outline-text-3" id="text-1-3">
</div><ul class="org-ul"><li><a id="sec-1-3-1" name="sec-1-3-1"></a>The shell<br  /><ul class="org-ul"><li><a id="sec-1-3-1-1" name="sec-1-3-1-1"></a>What is the shell?<br  /><div class="outline-text-5" id="text-1-3-1-1">
<p>
The shell a command line interface which allows you to control your computer. 
</p>

<p>
Tasks are accomplished by entering commands with a keyboard (or by running a plain text script) instead of controlling a graphical user interface.
</p>

<p>
The most popular shell is <a href="https://www.gnu.org/software/bash/manual/html_node/Introduction.html#Introduction">Bash ("Bourne Again SHell")</a>
</p>
</div>
</li>
<li><a id="sec-1-3-1-2" name="sec-1-3-1-2"></a>What is a terminal?<br  /><div class="outline-text-5" id="text-1-3-1-2">
<p>
A terminal is a program you run that gives you access to the shell. There are many different terminal programs that vary across operating systems.
</p>
</div>
</li></ul>
</li>
<li><a id="sec-1-3-2" name="sec-1-3-2"></a>Using the shell<br  /><div class="outline-text-4" id="text-1-3-2">
<p>
Open a terminal (bash)
</p>
<div class="org-src-container">

<pre class="src src-sh">ls
<span class="org-builtin">cd</span> ~/rr-workshop
ls
<span class="org-builtin">cd</span> course-materials/examples
ls
<span class="org-builtin">echo</span> <span class="org-string">"hello"</span>
<span class="org-builtin">echo</span> <span class="org-string">"hello"</span> &gt; newfile.txt
cat newfile.txt
<span class="org-builtin">cd</span> shell
ls
<span class="org-builtin">cd</span> ..
</pre>
</div>
</div>
</li>
<li><a id="sec-1-3-3" name="sec-1-3-3"></a>Full vs relative paths<br  /><div class="outline-text-4" id="text-1-3-3">
<div class="org-src-container">

<pre class="src src-sh"><span class="org-builtin">pwd</span>
<span class="org-builtin">cd</span> ~
<span class="org-builtin">pwd</span>
</pre>
</div>
</div>
</li>
<li><a id="sec-1-3-4" name="sec-1-3-4"></a>Shell command options and arguments<br  /><div class="outline-text-4" id="text-1-3-4">
<div class="org-src-container">

<pre class="src src-sh">ls -l
ls -al
man ls
</pre>
</div>
</div>
</li>
<li><a id="sec-1-3-5" name="sec-1-3-5"></a>Wildcards<br  /><div class="outline-text-4" id="text-1-3-5">
<p>
Use tab to autocomplete!
</p>
<div class="org-src-container">

<pre class="src src-sh"><span class="org-builtin">cd</span> ~/rr-worskop/course-materials/examples/
ls *.R
ls *.r*
</pre>
</div>
</div>
</li>

<li><a id="sec-1-3-6" name="sec-1-3-6"></a>Finding and displaying files<br  /><div class="outline-text-4" id="text-1-3-6">
<p>
<code>find</code>, <code>cat</code>, <code>less</code>
</p>
<div class="org-src-container">

<pre class="src src-sh"><span class="org-builtin">cd</span> shell
ls -al
find . -print
cat MC/MC607.csv
less MC/MC607.csv
</pre>
</div>

<p>
Some commands in less:
</p>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<tbody>
<tr>
<td class="left">key</td>
<td class="left">action</td>
</tr>

<tr>
<td class="left">"space"</td>
<td class="left">to go forward</td>
</tr>

<tr>
<td class="left">"b"</td>
<td class="left">to go backward</td>
</tr>

<tr>
<td class="left">"g"</td>
<td class="left">to go to the beginning</td>
</tr>

<tr>
<td class="left">"G"</td>
<td class="left">to go to the end</td>
</tr>

<tr>
<td class="left">"q"</td>
<td class="left">to quit</td>
</tr>
</tbody>
</table>
</div>
</li>

<li><a id="sec-1-3-7" name="sec-1-3-7"></a>Moving and copying<br  /><div class="outline-text-4" id="text-1-3-7">
<div class="org-src-container">

<pre class="src src-sh">mkdir alldata
cp MC/*.csv alldata
cp GP/*.csv alldata
find . -print
mv alldata all-data
ls -al all-data
rm all-data <span class="org-comment-delimiter">#</span><span class="org-comment">oops</span>
rm -r all-data
</pre>
</div>
</div>
</li>

<li><a id="sec-1-3-8" name="sec-1-3-8"></a>Counting words and lines<br  /><div class="outline-text-4" id="text-1-3-8">
<div class="org-src-container">

<pre class="src src-sh">wc GP/*.csv MC/*.csv
</pre>
</div>

<p>
One file is much shorter than others, why?
</p>

<div class="org-src-container">

<pre class="src src-sh">head MC/MC607.csv -n2
tail MC/MC607.csv -n2
head MC/MC606.csv -n2
tail MC/MC606.csv -n2
</pre>
</div>

<p>
There must be missing data in the middle
</p>
</div>
</li>
<li><a id="sec-1-3-9" name="sec-1-3-9"></a>Let's search for a specific line<br  /><div class="outline-text-4" id="text-1-3-9">
<p>
Find temperatures for measurements between 8 and 9 AM on Jan 1, 2014 in all MC locations. 
</p>

<p>
<code>grep</code> searches for patterns (regular expressions) in files
</p>
<div class="org-src-container">

<pre class="src src-sh">grep <span class="org-string">"1/1/14 8:..:.. AM"</span> MC/*.csv

<span class="org-comment-delimiter"># </span><span class="org-comment">and in all files in this folder and below:</span>

grep -r <span class="org-string">"1/1/14 8:..:.. AM"</span> .
</pre>
</div>
</div>
</li>

<li><a id="sec-1-3-10" name="sec-1-3-10"></a>The pipe <code>|</code><br  /><div class="outline-text-4" id="text-1-3-10">
<p>
"Pipe" the output of one command as input to another
</p>
<div class="org-src-container">

<pre class="src src-sh">wc GP/*.csv MC/*.csv
wc GP/*.csv MC/*.csv | tail -n1
wc GP/*.csv MC/*.csv | grep <span class="org-string">"total"</span>
</pre>
</div>
</div>
</li></ul>
</div>

<div id="outline-container-sec-1-4" class="outline-3">
<h3 id="sec-1-4"><span class="section-number-3">1.4</span> R in RStudio</h3>
<div class="outline-text-3" id="text-1-4">
</div><ul class="org-ul"><li><a id="sec-1-4-1" name="sec-1-4-1"></a>RStudio<br  /><div class="outline-text-4" id="text-1-4-1">

<div class="figure">
<p><img src="images/rstudio-screenshot.jpg" alt="rstudio-screenshot.jpg" />
</p>
</div>
</div>
</li>
<li><a id="sec-1-4-2" name="sec-1-4-2"></a>RStudio: keyboard shortcuts<br  /><ul class="org-ul"><li><a id="sec-1-4-2-1" name="sec-1-4-2-1"></a>In editor<br  /><div class="outline-text-5" id="text-1-4-2-1">
<ul class="org-ul">
<li>Command/ctrl + enter: send code to console
</li>
<li>Ctrl + 2: move cursor to console
</li>
</ul>
</div>
</li>
<li><a id="sec-1-4-2-2" name="sec-1-4-2-2"></a>In console<br  /><div class="outline-text-5" id="text-1-4-2-2">
<ul class="org-ul">
<li>Up arrow: retrieve previous command
</li>
<li>Ctrl + up arrow: search commands
</li>
<li>Ctrl + 1: move cursor to editor
</li>
</ul>
</div>
</li></ul>
</li>
<li><a id="sec-1-4-3" name="sec-1-4-3"></a>RStudio projects<br  /><div class="outline-text-4" id="text-1-4-3">
<ul class="org-ul">
<li>file &#x2026; new project
</li>
<li>select the folder into which you cloned "rr-worskhop"
</li>
<li>See that there is a git icon and some options under the tools menu now
</li>
<li>set the working directory to the <code>course-materials/examples</code> folder
</li>
<li>open birdd.R in the <code>examples</code> folder
</li>
</ul>
</div>
</li></ul>
</div>
<div id="outline-container-sec-1-5" class="outline-3">
<h3 id="sec-1-5"><span class="section-number-3">1.5</span> Quick review of R</h3>
<div class="outline-text-3" id="text-1-5">
</div><ul class="org-ul"><li><a id="sec-1-5-1" name="sec-1-5-1"></a>R as a calculator:<br  /><div class="outline-text-4" id="text-1-5-1">
<div class="org-src-container">

<pre class="src src-R">4.0 * 3.5
log(10)  <span class="org-comment-delimiter"># </span><span class="org-comment">natural log</span>
log10(10)
(3 + 1) * 5
3^-1
1/0
</pre>
</div>

<pre class="example">
[1] 14
[1] 2.302585
[1] 1
[1] 20
[1] 0.3333333
[1] Inf
</pre>
</div>
</li>

<li><a id="sec-1-5-2" name="sec-1-5-2"></a>Assigning values to variables<br  /><ul class="org-ul"><li><a id="sec-1-5-2-1" name="sec-1-5-2-1"></a>Variables are assigned using "&lt;-"'<br  /><div class="outline-text-5" id="text-1-5-2-1">
<p>
"=" is also now allowed. "==" tests equality.
</p>

<div class="org-src-container">

<pre class="src src-R">x <span class="org-constant">&lt;-</span> 12.6
x
x == 13
</pre>
</div>

<pre class="example">
[1] 12.6
[1] FALSE
</pre>
</div>
</li>

<li><a id="sec-1-5-2-2" name="sec-1-5-2-2"></a>Variables that contains many values<br  /><div class="outline-text-5" id="text-1-5-2-2">
<p>
<b>vectors</b> create with the concatenate function, c() :
</p>
<div class="org-src-container">

<pre class="src src-R">y <span class="org-constant">&lt;-</span> c(3,7,9,11)
y
</pre>
</div>

<pre class="example">
[1]  3  7  9 11
</pre>
</div>
</li></ul>
</li>

<li><a id="sec-1-5-3" name="sec-1-5-3"></a>Functions<br  /><div class="outline-text-4" id="text-1-5-3">
<p>
Functions are modules of code that accomplish a specific task. Functions usually take data as "arguments" and "return" a result. Once a function is written, it can be used over and over and over again. Functions can be "called" from within other functions.
</p>
</div>
</li>
<li><a id="sec-1-5-4" name="sec-1-5-4"></a>Functions in R<br  /><div class="outline-text-4" id="text-1-5-4">
<p>
Arguments to R functions can be matched by position or by name. So
the following calls to sd() are all equivalent
</p>

<div class="org-src-container">

<pre class="src src-R">mydata <span class="org-constant">&lt;-</span> rnorm(100)
sd(mydata)
sd(x = mydata)
sd(x = mydata, na.rm = <span class="org-type">FALSE</span>)
sd(na.rm = <span class="org-type">FALSE</span>, x = mydata)
sd(na.rm = <span class="org-type">FALSE</span>, mydata)
</pre>
</div>
</div>
</li>

<li><a id="sec-1-5-5" name="sec-1-5-5"></a>Example: random numbers<br  /><div class="outline-text-4" id="text-1-5-5">
<div class="org-src-container">

<pre class="src src-R">runif(5)
</pre>
</div>

<pre class="example">
[1] 0.0705746 0.7757365 0.2578603 0.3275505 0.6414583
</pre>

<div class="org-src-container">

<pre class="src src-R">runif(5, 0, 10)
</pre>
</div>

<pre class="example">
[1] 10  0  5 10  9
</pre>

<div class="org-src-container">

<pre class="src src-R">floor(runif(5,0,11))
</pre>
</div>

<pre class="example">
[1] 10  0  5 10  9
</pre>
</div>
</li>

<li><a id="sec-1-5-6" name="sec-1-5-6"></a>Where do these functions come from?<br  /><ul class="org-ul"><li><a id="sec-1-5-6-1" name="sec-1-5-6-1"></a>R packages are loaded with library()<br  /><div class="outline-text-5" id="text-1-5-6-1">
<pre class="example">
library(ggplot2)
</pre>
</div>
</li>
<li><a id="sec-1-5-6-2" name="sec-1-5-6-2"></a>To install a new package:<br  /><div class="outline-text-5" id="text-1-5-6-2">
<pre class="example">
install.packages("ggplot2")
</pre>
</div>
</li></ul>
</li>

<li><a id="sec-1-5-7" name="sec-1-5-7"></a>Scatterplots<br  /><div class="outline-text-4" id="text-1-5-7">
<div class="org-src-container">

<pre class="src src-R" id="example-mpg1"><span class="org-constant">library</span>(ggplot2)
<span class="org-comment-delimiter"># </span><span class="org-comment">?mpg</span>
head(mpg)
str(mpg)
summary(mpg)

qplot(displ, hwy, data = mpg)
</pre>
</div>
</div>
</li>

<li><a id="sec-1-5-8" name="sec-1-5-8"></a>The result<br  /><div class="outline-text-4" id="text-1-5-8">

<div class="figure">
<p><img src="plots/fig1_1.png" alt="fig1_1.png" />
</p>
</div>
</div>
</li>
<li><a id="sec-1-5-9" name="sec-1-5-9"></a>Vectors: the heart of R<br  /><div class="outline-text-4" id="text-1-5-9">
<div class="org-src-container">

<pre class="src src-R">x <span class="org-constant">&lt;-</span> 1:20
x
</pre>
</div>

<pre class="example">
[1]  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20
</pre>
</div>
</li>

<li><a id="sec-1-5-10" name="sec-1-5-10"></a>Working directory<br  /><div class="outline-text-4" id="text-1-5-10">
<div class="org-src-container">

<pre class="src src-R">getwd()
<span class="org-comment-delimiter"># </span><span class="org-comment">setwd(path.expand("~/") )</span>
</pre>
</div>
<p>
In Rstudio: Session&#x2026;Set Working Directory
</p>
</div>
</li>

<li><a id="sec-1-5-11" name="sec-1-5-11"></a>Practice: look at Galapagos bird morphology data<br  /><div class="outline-text-4" id="text-1-5-11">
<ul class="org-ul">
<li>set working dir to "rr-workshop/course-materials/examples"
</li>
<li>Walk through code and test visualizations
</li>
</ul>
</div>
</li></ul>
</div>
</div>
<div id="outline-container-sec-2" class="outline-2">
<h2 id="sec-2"><span class="section-number-2">2</span> Plain text and literate programming</h2>
<div class="outline-text-2" id="text-2">
</div>
<div id="outline-container-sec-2-1" class="outline-3">
<h3 id="sec-2-1"><span class="section-number-3">2.1</span> Why plain text?</h3>
<div class="outline-text-3" id="text-2-1">
</div><ul class="org-ul"><li><a id="sec-2-1-1" name="sec-2-1-1"></a>One goal as scientists<br  /><div class="outline-text-4" id="text-2-1-1">
<p>
To make our research as reproducible and visible as possible
</p>
</div>
<ul class="org-ul"><li><a id="sec-2-1-1-1" name="sec-2-1-1-1"></a>This entails:<br  /><div class="outline-text-5" id="text-2-1-1-1">
<ul class="org-ul">
<li>Sharing of code
</li>
<li>Sharing of data (if possible and not proprietary nor privacy sensitive)
</li>
<li>Sharing of output (presentation, article, website)
</li>
</ul>
</div>
</li></ul>
</li>
<li><a id="sec-2-1-2" name="sec-2-1-2"></a>The power of plain text<br  /><div class="outline-text-4" id="text-2-1-2">
<ul class="org-ul">
<li>Ubiquitous
</li>
<li>Usually small in size
</li>
<li>Portable across platforms (and versions)
</li>
<li>Use one powerful text editing tool for everything you do.
</li>
<li>Version control: VC systems work best on text files (eg git)
</li>
</ul>
</div>
<ul class="org-ul"><li><a id="sec-2-1-2-1" name="sec-2-1-2-1"></a>It is scriptable (both as input as output).<br  /><div class="outline-text-5" id="text-2-1-2-1">
<ul class="org-ul">
<li>Code is always in text format
</li>
<li>usually data is in text format
</li>
<li>underlying format for output (presentation, website, tables, articles, books) can be text as well
</li>
</ul>
</div>
</li></ul>
</li>
<li><a id="sec-2-1-3" name="sec-2-1-3"></a>Manipulation of text<br  /><div class="outline-text-4" id="text-2-1-3">
<p>
Most output is based on simple text file. There are two main final formats: HTML and PDF. One is pageless and one is centered on the idea of the printed page.
</p>
</div>
<ul class="org-ul"><li><a id="sec-2-1-3-1" name="sec-2-1-3-1"></a>This formatting requires markup-languages<br  /><div class="outline-text-5" id="text-2-1-3-1">
<ul class="org-ul">
<li>HTML and CSS
</li>
<li>LaTeX
</li>
<li>Markdown
</li>
</ul>

<p>
And others (ReST, org-mode, etc)
</p>
</div>
</li></ul>
</li>

<li><a id="sec-2-1-4" name="sec-2-1-4"></a>What is plain text?<br  /><ul class="org-ul"><li><a id="sec-2-1-4-1" name="sec-2-1-4-1"></a>Computers store numbers<br  /><div class="outline-text-5" id="text-2-1-4-1">
<ul class="org-ul">
<li>Computers store numbers in binary: 0100110 (38).
</li>
<li>How to represent characters ("A", "f", "%")?
</li>
</ul>
</div>
</li>

<li><a id="sec-2-1-4-2" name="sec-2-1-4-2"></a>Simple idea: numeric code for each character.  Originated at Bell labs in 1960<br  /><div class="outline-text-5" id="text-2-1-4-2">
<ul class="org-ul">
<li>ASCII: American Standard Code for Information Interchange (128 characters only!)
</li>
<li>Current standard: unicode. Basic idea: two bytes.  Then expanded to more (up to 3 bytes) Enough to store every character in every language.
</li>
<li>Use utf-8 (a unicode encoding)
</li>
</ul>
</div>
</li></ul>
</li>
<li><a id="sec-2-1-5" name="sec-2-1-5"></a>What you want in a text editor<br  /><div class="outline-text-4" id="text-2-1-5">
<ul class="org-ul">
<li>Syntax highlighting
</li>
<li>Braces, parenthesis matching, automatic indenting, wrapping comments
</li>
<li>Ability to work with multiple interpreters (R, Bash, Python, Julia . . .)
</li>
<li>Spell checking
</li>
</ul>

<p>
And some other things you did not know you wanted: TODOs and outlining modes, exporting to HTML or PDF, web browsing, email &#x2026;
</p>
</div>
<ul class="org-ul"><li><a id="sec-2-1-5-1" name="sec-2-1-5-1"></a>Editors:<br  /><div class="outline-text-5" id="text-2-1-5-1">
<ul class="org-ul">
<li><b>Emacs</b> My favorite. Runs on everything, super powerful.
</li>
<li><b>RStudio</b> For R code, markdown editing, interacts with git.
</li>
</ul>
</div>
</li></ul>
</li></ul>
</div>
<div id="outline-container-sec-2-2" class="outline-3">
<h3 id="sec-2-2"><span class="section-number-3">2.2</span> Markup languages</h3>
<div class="outline-text-3" id="text-2-2">
</div><ul class="org-ul"><li><a id="sec-2-2-1" name="sec-2-2-1"></a>Markup<br  /><ul class="org-ul"><li><a id="sec-2-2-1-1" name="sec-2-2-1-1"></a>What is markup?<br  /><div class="outline-text-5" id="text-2-2-1-1">
<ul class="org-ul">
<li>Even with unicode, plain text is, well, <b>plain</b>
</li>
<li>How do we produce pretty formatted output?
</li>
</ul>
</div>
<ul class="org-ul"><li><a id="sec-2-2-1-1-1" name="sec-2-2-1-1-1"></a>With markup languages<br  /><div class="outline-text-6" id="text-2-2-1-1-1">
<p>
HTML (+CSS), LaTeX, Markdown, RMarkdown,  org-mode.
</p>
</div>
</li></ul>
</li></ul>
</li>
<li><a id="sec-2-2-2" name="sec-2-2-2"></a>Markdown<br  /><div class="outline-text-4" id="text-2-2-2">
<ul class="org-ul">
<li>A lightweight markup language (less complicated and less powerful than \LaTex, for example
</li>
<li>The standard for integrating text and results with R code using RMarkdown files and <code>knitr</code>
</li>
<li>standard source format for structured text in many places now (GitHub, jekyll web sites, etc
</li>
<li>"Academic markdown" is maturing with support for using reference databases, citation styles, etc.
</li>
</ul>
</div>
</li>

<li><a id="sec-2-2-3" name="sec-2-2-3"></a>Markdown example<br  /><div class="outline-text-4" id="text-2-2-3">
<pre class="example">
## My Paper ##

I just discovered that:

$$e=Mc^2$$

### My Table ###

| Left | right | center |
|------|-------|--------|
| data | 0.01  | 2.3    |
</pre>
</div>
</li>
<li><a id="sec-2-2-4" name="sec-2-2-4"></a>Which renders as<br  /><div class="outline-text-4" id="text-2-2-4">

<div class="figure">
<p><img src="images/markdown-simple-example.png" alt="markdown-simple-example.png" />
</p>
</div>
</div>
</li>

<li><a id="sec-2-2-5" name="sec-2-2-5"></a>Text markup<br  /><div class="outline-text-4" id="text-2-2-5">
<pre class="example">
*italic*, **bold**

unordered list:
- item 1
- item 2
- item 3

Ordered list:
1. item 1
2. item 2
3. item 3
</pre>
</div>
</li>
<li><a id="sec-2-2-6" name="sec-2-2-6"></a>Headings<br  /><div class="outline-text-4" id="text-2-2-6">
<pre class="example">
Heading1
========

# Heading1 #

Heading2
--------

## Heading 2 ##

### Heading 3 ###
</pre>
</div>
</li>
<li><a id="sec-2-2-7" name="sec-2-2-7"></a>Markdown links<br  /><div class="outline-text-4" id="text-2-2-7">
<pre class="example">
Links:

http://daringfireball.net/projects/markdown/syntax
[Markdown syntax](http://daringfireball.net/projects/markdown/syntax)
[Markdown syntax][mkdn]

[mkdn]: http://daringfireball.net/projects/markdown/syntax
</pre>
</div>
</li>
<li><a id="sec-2-2-8" name="sec-2-2-8"></a>Markdown math<br  /><div class="outline-text-4" id="text-2-2-8">
<p>
Just use LateX math!
</p>

<div class="org-src-container">

<pre class="src src-latex" id="latex-math"><span class="org-font-latex-math">$$</span><span class="org-font-latex-sedate"><span class="org-font-latex-math">\frac</span></span><span class="org-font-latex-math">{n!}{k!(n-k)!} = </span><span class="org-font-latex-sedate"><span class="org-font-latex-math">\binom</span></span><span class="org-font-latex-math">{n}{k}$$</span>
</pre>
</div>
</div>


<ul class="org-ul"><li><a id="sec-2-2-8-1" name="sec-2-2-8-1"></a>Which renders as:<br  /><div class="outline-text-5" id="text-2-2-8-1">
</div>
</li></ul>
</li>

<li><a id="sec-2-2-9" name="sec-2-2-9"></a>Markdown math<br  /><div class="outline-text-4" id="text-2-2-9">
<p>
Inline equations just need a single <code>$</code>
</p>

<div class="org-src-container">

<pre class="src src-latex" id="latex-math2">In ecology, "true" species diversity is:
<span class="org-font-latex-math">$ D_q = </span><span class="org-font-latex-sedate"><span class="org-font-latex-math">\frac</span></span><span class="org-font-latex-math">{1}{</span><span class="org-font-latex-sedate"><span class="org-font-latex-math">\sqrt</span></span><span class="org-font-latex-math">[q-1]{</span><span class="org-font-latex-sedate"><span class="org-font-latex-math">\sum</span></span><span class="org-font-latex-math">_{i=1}^R{p_{i} p_{i}^{q-1}}}}</span>
</pre>
</div>
</div>

<ul class="org-ul"><li><a id="sec-2-2-9-1" name="sec-2-2-9-1"></a>Which renders as<br  /><div class="outline-text-5" id="text-2-2-9-1">
</div>
</li></ul>
</li>
<li><a id="sec-2-2-10" name="sec-2-2-10"></a>Managing references<br  /><ul class="org-ul"><li><a id="sec-2-2-10-1" name="sec-2-2-10-1"></a>A quick example<br  /><div class="outline-text-5" id="text-2-2-10-1">
<pre class="example">
Introduction
============

North American forests have been shaped by fire over evolutionary and
ecological time scales. However, for much of the 20th century, land managers
concentrated on minimizing the amount of land that burned. Compared to
presettlement fire regimes in many contemporary forests, fire intervals have
lengthened [@Cyr+Gauthier+etal-2009; @Spetich+Perry+etal-2011;
@Aldrich+Lafon+etal-2010], although there is evidence for significant
variability in historical fire return intervals [@Odion+Hanson+etal-2014].
Increased recognition of the central role of fire in maintaining forest
structure and function has contributed to a shift from fire exclusion to the
reintroduction of fire in fire-dependent forests, most often with the aim of
reducing fuels and restoring historic stand structure [@Agee+Skinner-2005].
This recognition has prompted federal initiatives such as the National Fire
Plan and Healthy Forest Restoration Act (2003) that mandate federal land
managers to restore forest structure and function and reduce risk of wildfire
on federal lands. Use of widespread fuel treatments has led to increasing
discussion of the effectiveness, suitability and ecological impacts of thinning
and prescribed fire [@Schoennagel+Veblen+etal-2004; @Schoennagel+Nelson-2010;
@Schwilk+Keeley+etal-2009].
</pre>
</div>
</li>
<li><a id="sec-2-2-10-2" name="sec-2-2-10-2"></a>Result<br  /><div class="outline-text-5" id="text-2-2-10-2">

<div class="figure">
<p><img src="images/markdown-ms.png" alt="markdown-ms.png" />
</p>
</div>
</div>
</li></ul>
</li>

<li><a id="sec-2-2-11" name="sec-2-2-11"></a>Pandoc<br  /><div class="outline-text-4" id="text-2-2-11">
<p>
So how do we glue everything together and produce wonderful htmls and pdfs out of thin air?
</p>

<p>
With pandoc: <a href="http://johnmacfarlane.net/pandoc/">http://johnmacfarlane.net/pandoc/</a>
</p>
</div>
<ul class="org-ul"><li><a id="sec-2-2-11-0-1" name="sec-2-2-11-0-1"></a>pandoc<br  /><div class="outline-text-6" id="text-2-2-11-0-1">
<dl class="org-dl">
<dt> Pandoc can convert from </dt><dd>markdown, LaTeX, HTML, DocBook, Org-mode, and &#x2026; Microsoft Word .docx
</dd>
<dt> To </dt><dd>HTML formats (including HTML5 slides), via Latex to pdf, MS Word (but support somewhat limited) and OpenOffice formats, various markup formats, and much more
</dd>
</dl>
</div>
</li></ul>
</li>

<li><a id="sec-2-2-12" name="sec-2-2-12"></a>An RMarkdown workflow<br  /><div class="outline-text-4" id="text-2-2-12">
<p>
Figure from Kieran Healy: <a href="http://kieranhealy.org/resources/">http://kieranhealy.org/resources/</a>
</p>


<div class="figure">
<p><img src="images/Healy-workflow-wide.png" alt="Healy-workflow-wide.png" />
</p>
</div>
</div>
</li>
<li><a id="sec-2-2-13" name="sec-2-2-13"></a>RMarkdown in RStudio<br  /><div class="outline-text-4" id="text-2-2-13">
<p>
See <a href="http://rmarkdown.rstudio.com/">http://rmarkdown.rstudio.com/</a>
</p>

<div class="figure">
<p><img src="images/markdownChunk.png" alt="markdownChunk.png" />
</p>
</div>
</div>
</li></ul>
</div>
<div id="outline-container-sec-2-3" class="outline-3">
<h3 id="sec-2-3"><span class="section-number-3">2.3</span> Literate programming</h3>
<div class="outline-text-3" id="text-2-3">
</div><ul class="org-ul"><li><a id="sec-2-3-1" name="sec-2-3-1"></a>Literate programming with RStudio<br  /><div class="outline-text-4" id="text-2-3-1">
<p>
Can aid in reproducible research: Simply combine text and code
</p>

<dl class="org-dl">
<dt> Plain R script </dt><dd>Simplest. This is how I teach my graduate programming course. Encourage use of comments and require that script run from top to bottom without error. In RStudio, one can compile this to an RMarkdown file (Compile Notebook command).
</dd>
<dt> knitr </dt><dd><a href="http://yihui.name/knitr/">http://yihui.name/knitr/</a>. R package. Mix text and code and "knit" to output. Can work with LaTeX (rnw files) and with RMarkdown (Rmd).
</dd>
</dl>
</div>
</li>
<li><a id="sec-2-3-2" name="sec-2-3-2"></a>RMarkdown and knitr<br  /><div class="outline-text-4" id="text-2-3-2">
<p>
<code>knitr</code> is an R package that can interpret .rnw files (LaTeX) or RMarkdown files (.Rmd) with R code blocks and "knit" them into LaTeX or markdown (.md) files that can be processed to html, pdf, etc (eg with pandoc)
</p>
</div>
</li>
<li><a id="sec-2-3-3" name="sec-2-3-3"></a>RMarkdown example:<br  /><div class="outline-text-4" id="text-2-3-3">
<pre class="example">
RMarkdown example
=================

## some code
```{r mpg-data-plot, fig.width=4, fig.height=4}

library(ggplot2)
qplot(displ, hwy, data=mpg)

```
# Another heading
Some data:
```{r}
head(mpg)
```
</pre>
</div>
</li>
<li><a id="sec-2-3-4" name="sec-2-3-4"></a>Result:<br  /><div class="outline-text-4" id="text-2-3-4">

<div class="figure">
<p><img src="images/rmarkdown-example.png" alt="rmarkdown-example.png" />
</p>
</div>
</div>
</li>
<li><a id="sec-2-3-5" name="sec-2-3-5"></a>Practice on birdd.Rmd<br  /><ul class="org-ul"><li><a id="sec-2-3-5-1" name="sec-2-3-5-1"></a>RStudio<br  /><div class="outline-text-5" id="text-2-3-5-1">
<ul class="org-ul">
<li>Make sure you have the rr-workshop project open (File &#x2026; Open Project)
</li>
<li>Open birdd.Rmd
</li>
</ul>
</div>
</li></ul>
</li>

<li><a id="sec-2-3-6" name="sec-2-3-6"></a>Best practices<br  /><div class="outline-text-4" id="text-2-3-6">
<p>
Reproducible research in R (see  Yihui Xie's <i>Dynamic Documents with R and knitr</i>)
</p>

<ul class="org-ul">
<li>Use relative, not absolute, file paths and keep a whole project in one directory whenever possible
</li>
<li>Don't change the working directory
</li>
<li>Compile your reports in a clean R session to test that they really run (existing R objects gotcha)
</li>
<li>Avoid any commands needing human interaction, and avoid relying on environment variables outside the code; the whole script should be automated and self-contained
</li>
<li>Include instructions on running the document for your collaborators (or future self)
</li>
</ul>
</div>
</li></ul>
</div>
</div>

<div id="outline-container-sec-3" class="outline-2">
<h2 id="sec-3"><span class="section-number-2">3</span> Version Control</h2>
<div class="outline-text-2" id="text-3">
</div>
<div id="outline-container-sec-3-1" class="outline-3">
<h3 id="sec-3-1"><span class="section-number-3">3.1</span> What is version control?</h3>
<div class="outline-text-3" id="text-3-1">
</div><ul class="org-ul"><li><a id="sec-3-1-1" name="sec-3-1-1"></a>Why use version control?<br  /><ul class="org-ul"><li><a id="sec-3-1-1-1" name="sec-3-1-1-1"></a>You already use some sort of version control<br  /><div class="outline-text-5" id="text-3-1-1-1">
<ul class="org-ul">
<li>File naming schemes (<i>eg</i> <code>my-file-July18-2013.doc</code>) or by copying folders around
</li>
<li>Simple but error-prone
</li>
<li>Does not help with branching, collaboration
</li>
</ul>
</div>
</li>
<li><a id="sec-3-1-1-2" name="sec-3-1-1-2"></a>A version control system (VCS) allows you to:<br  /><div class="outline-text-5" id="text-3-1-1-2">
<ul class="org-ul">
<li>revert files back to a previous state
</li>
<li>revert the entire project back to a previous state
</li>
<li>review changes made over time
</li>
<li>see who last modified something that might be causing a problem, who introduced an issue and when
</li>
</ul>
</div>
</li></ul>
</li>

<li><a id="sec-3-1-2" name="sec-3-1-2"></a>Local version control systems (VCS)<br  /><div class="outline-text-4" id="text-3-1-2">
<p>
<img src="images/local-vc.png" alt="local-vc.png" />
see <a href="http://git-scm.com/book/">http://git-scm.com/book/</a>
</p>
</div>
</li>
<li><a id="sec-3-1-3" name="sec-3-1-3"></a>Centralized VCS<br  /><div class="outline-text-4" id="text-3-1-3">

<div class="figure">
<p><img src="images/central-vc.png" alt="central-vc.png" />
</p>
</div>
</div>
</li>

<li><a id="sec-3-1-4" name="sec-3-1-4"></a>Distributed VCS<br  /><div class="outline-text-4" id="text-3-1-4">

<div class="figure">
<p><img src="images/distributed-vc.png" alt="distributed-vc.png" />
</p>
</div>
</div>
</li></ul>
</div>

<div id="outline-container-sec-3-2" class="outline-3">
<h3 id="sec-3-2"><span class="section-number-3">3.2</span> git</h3>
<div class="outline-text-3" id="text-3-2">
</div><ul class="org-ul"><li><a id="sec-3-2-1" name="sec-3-2-1"></a>Configuring<br  /><div class="outline-text-4" id="text-3-2-1">
<div class="org-src-container">

<pre class="src src-sh">git config --global user.name <span class="org-string">"Dylan Schwilk"</span>
git config --global user.email <span class="org-string">"dylan@schwilk.org"</span>
</pre>
</div>
</div>
</li>

<li><a id="sec-3-2-2" name="sec-3-2-2"></a>Getting a "repo" (repository)<br  /><div class="outline-text-4" id="text-3-2-2">
<div class="org-src-container">

<pre class="src src-sh"><span class="org-builtin">cd</span> ~
mkdir newrepo
<span class="org-builtin">cd</span> newrepo
git init
touch README.md
ls .git -al
</pre>
</div>
</div>
</li>
<li><a id="sec-3-2-3" name="sec-3-2-3"></a>What happened?<br  /><div class="outline-text-4" id="text-3-2-3">
<p>
Hidden directory called <code>.git</code>
</p>
<pre class="example">
.
├── .git
│   ├── branches
│   ├── config
│   ├── description
│   ├── HEAD
│   ├── hooks
│   │   ├── applypatch-msg.sample
│   │   ├── commit-msg.sample
│   │   ├── post-update.sample
│   │   ├── pre-applypatch.sample
│   │   ├── pre-commit.sample
│   │   ├── prepare-commit-msg.sample
│   │   ├── pre-push.sample
│   │   ├── pre-rebase.sample
│   │   └── update.sample
│   ├── info
│   │   └── exclude
│   ├── objects
│   │   ├── info
│   │   └── pack
│   └── refs
│       ├── heads
│       └── tags
└── README.md
</pre>
</div>
</li>
<li><a id="sec-3-2-4" name="sec-3-2-4"></a>Checking status<br  /><div class="outline-text-4" id="text-3-2-4">
<div class="org-src-container">

<pre class="src src-sh">git status
</pre>
</div>

<pre class="example">
On branch master

Initial commit

Untracked files:
  (use "git add &lt;file&gt;..." to include in what will be committed)

        README.md

nothing added to commit but untracked files present (use "git add" to track)
</pre>
</div>
</li>
<li><a id="sec-3-2-5" name="sec-3-2-5"></a>git commands<br  /><ul class="org-ul"><li><a id="sec-3-2-5-1" name="sec-3-2-5-1"></a>git states&#xa0;&#xa0;&#xa0;<span class="tag"><span class="BMCOL">BMCOL</span></span><br  /><div class="outline-text-5" id="text-3-2-5-1">

<div class="figure">
<p><img src="images/git-states.png" alt="git-states.png" />
</p>
</div>
</div>
</li>
<li><a id="sec-3-2-5-2" name="sec-3-2-5-2"></a>git commands&#xa0;&#xa0;&#xa0;<span class="tag"><span class="BMCOL">BMCOL</span></span><br  /><div class="outline-text-5" id="text-3-2-5-2">
<ul class="org-ul">
<li>git init
</li>
<li>git add
</li>
<li>git status
</li>
<li>git log
</li>
<li>git commit
</li>
</ul>
</div>
</li></ul>
</li>
<li><a id="sec-3-2-6" name="sec-3-2-6"></a>staging files<br  /><div class="outline-text-4" id="text-3-2-6">
<div class="org-src-container">

<pre class="src src-sh">git add .
git status
</pre>
</div>

<pre class="example">
On branch master

Initial commit

Changes to be committed:
  (use "git rm --cached &lt;file&gt;..." to unstage)

        new file:   README.md
</pre>
</div>
</li>
<li><a id="sec-3-2-7" name="sec-3-2-7"></a>Committing changes<br  /><div class="outline-text-4" id="text-3-2-7">
<div class="org-src-container">

<pre class="src src-sh">git commit -m <span class="org-string">"initial commit"</span>
git status
</pre>
</div>

<pre class="example">
On branch master
nothing to commit, working directory clean
</pre>
</div>
</li>
<li><a id="sec-3-2-8" name="sec-3-2-8"></a>git commit<br  /><div class="outline-text-4" id="text-3-2-8">
<p>
A commit is a snapshot taken from the index (staging area) <b>not from the working directory</b>!
</p>
</div>
</li>
<li><a id="sec-3-2-9" name="sec-3-2-9"></a>What exists now?<br  /><div class="outline-text-4" id="text-3-2-9">

<div class="figure">
<p><img src="images/git-filesystem2.png" alt="git-filesystem2.png" />
</p>
</div>
</div>
</li>

<li><a id="sec-3-2-10" name="sec-3-2-10"></a>Clone repo<br  /><div class="outline-text-4" id="text-3-2-10">
<div class="org-src-container">

<pre class="src src-sh">git clone https://github.com/schwilklab/protocols.git
<span class="org-builtin">cd</span> protocols
ls
</pre>
</div>

<pre class="example">
./  ../   html/  lab-org/  methods/  README.md  safety/
</pre>
</div>
</li>
<li><a id="sec-3-2-11" name="sec-3-2-11"></a>A basic workflow<br  /><div class="outline-text-4" id="text-3-2-11">
<ul class="org-ul">
<li>Edit files
</li>
<li>Stage the changes (git add)
</li>
<li>Review the changes (git diff)
</li>
<li>Commit the changes (git commit)
</li>
</ul>
</div>
</li>
<li><a id="sec-3-2-12" name="sec-3-2-12"></a>The git repository<br  /><div class="outline-text-4" id="text-3-2-12">

<div class="figure">
<p><img src="plots/git-repo-diagram.png" alt="git-repo-diagram.png" />
</p>
</div>
</div>
</li>
<li><a id="sec-3-2-13" name="sec-3-2-13"></a>git log<br  /><div class="outline-text-4" id="text-3-2-13">
<div class="org-src-container">

<pre class="src src-sh">git log --pretty=oneline --abbrev-commit -10
</pre>
</div>

<pre class="example">
d2ec17b Reduce markup lecture
e4d405f Add folder for tangled session files
bb2d29e Add shell (Bash) examples and some data
261af83 Clean up birdd files
e289d7e Minor edit
f2820d3 Scatterplot fig in birdd example
75a4be6 Add slides on Bash shell
66c9a7f Add etherpad link for workshop
e23b559 Suggest getting github.com account
7e6a6df Add time and date for workshop
</pre>
</div>
</li>
<li><a id="sec-3-2-14" name="sec-3-2-14"></a>git diff<br  /><div class="outline-text-4" id="text-3-2-14">
<dl class="org-dl">
<dt> <code>git diff</code> </dt><dd>difference between working directory and index (staging area)
</dd>
<dt> <code>git diff --staged</code> </dt><dd>difference between index and last commit
</dd>
</dl>

<p>
With right options, diff can show changes between any two commits, any two files, etc.
</p>
</div>
</li>
<li><a id="sec-3-2-15" name="sec-3-2-15"></a>git diff example<br  /><div class="outline-text-4" id="text-3-2-15">
<p>
Try:
</p>
<div class="org-src-container">

<pre class="src src-sh">git diff HEAD~1
</pre>
</div>
</div>
</li>


<li><a id="sec-3-2-16" name="sec-3-2-16"></a>Diffs on GitHub<br  /><div class="outline-text-4" id="text-3-2-16">

<div class="figure">
<p><img src="images/github-diff-example.png" alt="github-diff-example.png" />
</p>
</div>
</div>
</li>

<li><a id="sec-3-2-17" name="sec-3-2-17"></a>Practice on rr-workshop<br  /><div class="outline-text-4" id="text-3-2-17">
<ul class="org-ul">
<li>open birdd.Rmd
</li>
<li>Explore data together and commit changes
</li>
</ul>
</div>
</li></ul>
</div>
<div id="outline-container-sec-3-3" class="outline-3">
<h3 id="sec-3-3"><span class="section-number-3">3.3</span> Working with branches</h3>
<div class="outline-text-3" id="text-3-3">
</div><ul class="org-ul"><li><a id="sec-3-3-1" name="sec-3-3-1"></a>Branches<br  /><div class="outline-text-4" id="text-3-3-1">
<p>
A branch represents an independent line of development.
</p>
</div>
</li>

<li><a id="sec-3-3-2" name="sec-3-3-2"></a>Show and create branches<br  /><ul class="org-ul"><li><a id="sec-3-3-2-1" name="sec-3-3-2-1"></a>Show<br  /><div class="outline-text-5" id="text-3-3-2-1">
<div class="org-src-container">

<pre class="src src-sh">git branch
</pre>
</div>

<pre class="example">
* master
  new-feature
</pre>
</div>
</li>

<li><a id="sec-3-3-2-2" name="sec-3-3-2-2"></a>Create<br  /><div class="outline-text-5" id="text-3-3-2-2">
<pre class="example">
git branch &lt;newbranch&gt;
</pre>
</div>
</li>

<li><a id="sec-3-3-2-3" name="sec-3-3-2-3"></a>Delete<br  /><div class="outline-text-5" id="text-3-3-2-3">
<pre class="example">
git branch -D &lt;newbranch&gt;
</pre>
</div>
</li></ul>
</li>

<li><a id="sec-3-3-3" name="sec-3-3-3"></a>Using branches<br  /><div class="outline-text-4" id="text-3-3-3">

<div class="figure">
<p><img src="images/git-branch-diag.png" alt="git-branch-diag.png" />
</p>
</div>
</div>
</li>

<li><a id="sec-3-3-4" name="sec-3-3-4"></a>Switch branches<br  /><div class="outline-text-4" id="text-3-3-4">
<pre class="example">
git checkout &lt;existing-branch&gt;
</pre>
</div>
</li>

<li><a id="sec-3-3-5" name="sec-3-3-5"></a>Merge<br  /><div class="outline-text-4" id="text-3-3-5">
<p>
Merging is Git's way of putting a branched history back together again.
</p>
</div>
<ul class="org-ul"><li><a id="sec-3-3-5-1" name="sec-3-3-5-1"></a>Note:<br  /><div class="outline-text-5" id="text-3-3-5-1">
<p>
This merges <b>into</b> the current branch
</p>

<pre class="example">
git merge &lt;branch&gt;
</pre>
</div>
</li></ul>
</li>
<li><a id="sec-3-3-6" name="sec-3-3-6"></a>Fast-forward merge<br  /><div class="outline-text-4" id="text-3-3-6">

<div class="figure">
<p><img src="images/git-ff-merge.png" alt="git-ff-merge.png" />
</p>
</div>
</div>
</li>
<li><a id="sec-3-3-7" name="sec-3-3-7"></a>Three-way merge<br  /><div class="outline-text-4" id="text-3-3-7">

<div class="figure">
<p><img src="images/git-merge-3w.png" alt="git-merge-3w.png" />
</p>
</div>
</div>
</li>
<li><a id="sec-3-3-8" name="sec-3-3-8"></a>Example fast-foward merge<br  /><div class="outline-text-4" id="text-3-3-8">
<div class="org-src-container">

<pre class="src src-sh"><span class="org-comment-delimiter"># </span><span class="org-comment">Start a new feature</span>
git checkout -b new-feature master

<span class="org-comment-delimiter"># </span><span class="org-comment">Edit some files</span>
git add &lt;file&gt;
git commit -m <span class="org-string">"Start a feature"</span>

<span class="org-comment-delimiter"># </span><span class="org-comment">Edit some files</span>
git add &lt;file&gt;
git commit -m <span class="org-string">"Finish a feature"</span>

<span class="org-comment-delimiter"># </span><span class="org-comment">Merge in the new-feature branch</span>
git checkout master
git merge new-feature
git branch -d new-feature
</pre>
</div>
</div>
</li>

<li><a id="sec-3-3-9" name="sec-3-3-9"></a>Merge vs rebase<br  /></li></ul>
</div>
<div id="outline-container-sec-3-4" class="outline-3">
<h3 id="sec-3-4"><span class="section-number-3">3.4</span> Working with remotes</h3>
<div class="outline-text-3" id="text-3-4">
</div><ul class="org-ul"><li><a id="sec-3-4-1" name="sec-3-4-1"></a>What is a "remote"<br  /><div class="outline-text-4" id="text-3-4-1">
<ul class="org-ul">
<li>a version of the repository that hosted somewhere on the internet.
</li>
<li>Remotes have a url (https or ssh), but the can also have names.
</li>
<li>It is common to have only one remote at it is named "origin"
</li>
</ul>
</div>
<ul class="org-ul"><li><a id="sec-3-4-1-1" name="sec-3-4-1-1"></a>Why remotes<br  /><div class="outline-text-5" id="text-3-4-1-1">
<p>
Allow collaboration!
</p>
</div>
</li></ul>
</li>

<li><a id="sec-3-4-2" name="sec-3-4-2"></a>GitHub<br  /><div class="outline-text-4" id="text-3-4-2">
<p>
We use GitHub for hosting, so most of of your local repos will be associated with a remote named "origin" and a url something like <code>git@github.com:schwilklab/CSC-sky-island-forest.git</code>
</p>
</div>
</li>

<li><a id="sec-3-4-3" name="sec-3-4-3"></a>Working with remotes<br  /><div class="outline-text-4" id="text-3-4-3">
<p>
When you clone from a remote, git remembers and calls that remote "origin". You can look at .git/config or, better use git commands to view:
</p>
<div class="org-src-container">

<pre class="src src-sh">git remote -v
</pre>
</div>

<pre class="example">
origin  git@github.com:dschwilk/rr-workshop.git (fetch)
origin  git@github.com:dschwilk/rr-workshop.git (push)
</pre>
</div>
</li>

<li><a id="sec-3-4-4" name="sec-3-4-4"></a>Adding a remote<br  /><div class="outline-text-4" id="text-3-4-4">
<p>
If you need to add a remote to an existing repository:
</p>
<div class="org-src-container">

<pre class="src src-sh">git remote add rem2 git@github.com:dschwilk/software-tools-course.git
</pre>
</div>
</div>
</li>

<li><a id="sec-3-4-5" name="sec-3-4-5"></a>Fetching and pulling<br  /><ul class="org-ul"><li><a id="sec-3-4-5-1" name="sec-3-4-5-1"></a>fetch<br  /><div class="outline-text-5" id="text-3-4-5-1">
<div class="org-src-container">

<pre class="src src-sh">git fetch origin
git fetch
</pre>
</div>

<p>
This pulls the data to your local repository but doe not merge it.  It just means you have a local copy of the changes in the remote so that you <b>can</b> merge them.
</p>
</div>
</li>

<li><a id="sec-3-4-5-2" name="sec-3-4-5-2"></a>pull<br  /><div class="outline-text-5" id="text-3-4-5-2">
<div class="org-src-container">

<pre class="src src-sh">git pull
</pre>
</div>

<p>
Fetches data and then merges with your local repo.
</p>
</div>
</li></ul>
</li>

<li><a id="sec-3-4-6" name="sec-3-4-6"></a>git push<br  /><div class="outline-text-4" id="text-3-4-6">
<pre class="example">
git push &lt;remote&gt; &lt;branch name&gt;
eg: git push origin master
or just: git push
</pre>

<p>
This works if none else has pushed changes to that remote since you last pulled. If there is an error, you will need to pull (fetch and merge) first.
</p>
</div>
</li>

<li><a id="sec-3-4-7" name="sec-3-4-7"></a>git and GitHub<br  /><div class="outline-text-4" id="text-3-4-7">
<p>
idea of "forking"
</p>
</div>
</li></ul>
</div>
<div id="outline-container-sec-3-5" class="outline-3">
<h3 id="sec-3-5"><span class="section-number-3">3.5</span> Advanced uses</h3>
<div class="outline-text-3" id="text-3-5">
</div><ul class="org-ul"><li><a id="sec-3-5-1" name="sec-3-5-1"></a>stage only portions of change<br  /><div class="outline-text-4" id="text-3-5-1">
<div class="org-src-container">

<pre class="src src-sh">git add -p
</pre>
</div>

<p>
Interactively add changed "hunks".
</p>
</div>
</li></ul>
</div>
</div>
</div>
<div id="postamble" class="status">

<div id="back-to-top">
<a href="#top">Back to top</a> | <a href="mailto:dylan.schwilk@ttu.edu">E-mail Schwilk</a>
</div>
</div>
</body>
</html>
